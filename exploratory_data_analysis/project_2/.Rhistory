(PAt-PAt1)/PAt1
(PCt-PCt1)/PCt1
ln(((PAt-PAt1)/PAt1) +1)
ln(((PCt-PCt1)/PCt1) +1)
log(((PAt-PAt1)/PAt1) +1)
log(((PCt-PCt1)/PCt1) +1)
(PAt-PAt1)/PAt1)
((PAt-PAt1)/PAt1)
(((PAt + 0.1)-PAt1)/PAt1)
0.1/PAt1
log(((PAt-PAt1)/PAt1) +1)
log(((PAt-PAt1)/PAt1) +1)*12
log(((PAt-PAt1)/PAt1) +1)*12
exp(log(((PAt-PAt1)/PAt1) +1)*12)-1
0.8*((PAt-PAt1)/PAt1) + 0.2*((PCt-PCt1)/PCt1)
joint <- matrix(c(0.1, 0.1, 0, 0.2, 0, 0.1, 0, 0.2, 0.3), nrow=3, ncol=3)
joint
?rownames
rownames(joint)
rownames(joint) <- c(Y1, Y2, Y3)
rownames(joint) <- c("Y1", "Y2", "Y3")
colnames(joint) <- c("Y1", "Y2", "Y3")
rownames(joint) <- c("X1", "X2", "X3")
joint
joint$Y1
joint <- data.frame(c(0.1, 0.1, 0, 0.2, 0, 0.1, 0, 0.2, 0.3), nrow=3, ncol=3)
colnames(joint) <- c("Y1", "Y2", "Y3")
rownames(joint) <- c("X1", "X2", "X3")
joint
joint <- matrix(c(0.1, 0.1, 0, 0.2, 0, 0.1, 0, 0.2, 0.3), nrow=3, ncol=3)
joint <- as.data.fram(matirx)
joint <- as.data.frame(matirx)
joint <- as.data.frame(matrix)
joint <- matrix(c(0.1, 0.1, 0, 0.2, 0, 0.1, 0, 0.2, 0.3), nrow=3, ncol=3)
joint <- as.data.frame(joint)
colnames(joint) <- c("Y1", "Y2", "Y3")
rownames(joint) <- c("X1", "X2", "X3")
joint
joint$Y1
?colsum
Colsum
?colSum
?colSums
marY <- colSums(joint)
marY
marX <- rowSums(joint)
marX
joint <- matrix(c(0.1, 0.1, 0, 0.2, 0, 0.1, 0, 0.2, 0.3), nrow=3, ncol=3)
vals <- c(1, 2, 3)
colnames(joint) <- c("Y1", "Y2", "Y3")
rownames(joint) <- c("X1", "X2", "X3")
marY <- colSums(joint)
marX <- rowSums(joint)
marY
marX
marY*vals
EX <- sum(marX*vals)
EX
EY <- sum (marY*vals)
EY
varX <- mean(vals^2) - (EX)^2
varX
varX <- (mean(vals^2)) - ((EX)^2)
varX
varY <- (mean(vals^2))
VarY
varY
varY <- (mean(vals^2)) - ((EY)^2)
varY
EY <- sum (marY*vals)
EY
testX <- (vals- EX)^2
testX
testX <- ((vals- EX)^2)*marX
testX
testX <- sum(((vals- EX)^2)*marX)
testX
varX
varX <- sum((vals^2)*marX) - ((EX)^2)
varX
testY <- sum(((vals-EY)^2)*marY)
testX <- sum(((vals- EX)^2)*marX)
testY <- sum(((vals-EY)^2)*marY)
varX <- sum((vals^2)*marX) - ((EX)^2)
varY <- sum((vals^2)*marY) - ((EY)^2)
testX
varX
testY
varY
sqrt(varX)
sqrt(varY)
joint
cov_xy <- sum((vals-EX)*(vals-EY))
cov_xy
vals-EX
(vals-EX)*(vals-EY)
cov_xy <- (sum((vals-EX)*(vals-EY)))/3
cov_xy
cov_xy <- (sum((vals-EX)*(vals-EY)))/2
cov_xy
cov_xy <- (sum((vals-EX)*(vals-EY)))/5
cov_xy
joint
vals%*%vals
class(vals)
vals <- as.vector(vals)
class(vals)
?as.vector
vals
t(vals)
t(t(vals))
vals
t(t(vals))
vals*t(vals)
dim(vals)
vals <- as.matrix(vals)
vals
t(vals)
vals*t(vals)
vals%*%t(vals)
all <-vals%*%vals
all <-vals%*%t(vals)
all <-as.vector(vals%*%t(vals))
all
joint
probs <- as.vector(joint)
probs
cov_xy <- sum(all*probs) - EX*EY
cov_xy
sdx <- sqrt(varX)
sdy <- sqrt(varY)
cor_xy <- cov_xy/(sdx*sdy)
cor_xy
class(marX)
marX <- as.matrix(marX)
marX
marY <- as.matrix(marY)
marY
ind <- marX%*%marY
ind <- marX%*%t(marY)
ind
qnorm(0.01, 0.04, 0.09)
mu <- 0.04*12
var <- (0.09)^sqrt(12)
qnorm(0.01, mu, sqrt(var))
var <- (0.09)^2*sqrt(12)
qnorm(0.01, mu, sqrt(var))
sd <- (0.09)*sqrt(12)
qnorm(0.01, mu, sqrt(var))
qnorm(0.01, mu, sqrt(var))*100000
qnorm(0.05, mu, sqrt(var))*100000
(exp(qnorm(0.01, mu, sqrt(var)))-1)*100000
(exp(qnorm(0.05, mu, sqrt(var)))-1)*100000
(exp(qnorm(0.01, mu, sd)-1)*100000
(exp(qnorm(0.05, mu, sd)-1)*100000
))]
(exp(qnorm(0.01, mu, sd)-1))*100000
(exp(qnorm(0.05, mu, sd)-1))*100000
mu <- 0.04*12
sd <- (0.09)*sqrt(12)
mu
sd
qnorm(0.01, mu, sd)
qnorm(0.05, mu, sd)
mu <- exp(0.04*12)-1
sd <- exp((0.09)*sqrt(12))-1
mu
sd
qnorm(0.01, mu, sd)
qnorm(0.05, mu, sd)
?qnorm
qnorm(0.01, mu, sd)*100000
qnorm(0.05, mu, sd)*100000
mu <- 0.04*12
sd <- (0.09)*sqrt(12)
mu
sd
qnorm(0.01, mu, sd, log.p=TRUE)
qnorm(p=0.01, mean=mu, sd=sd, lower.tail=TRUE, log.p=TRUE)
qnorm(p=0.01, mean=mu, sd=sd)
qnorm(0.05, mu, sd)
qnorm(0.01, mu, sd)
qnorm(0.05, mu, sd)
exp(qnorm(0.01, mu, sd))-1
exp(qnorm(0.05, mu, sd))-1
(exp(qnorm(0.01, mu, sd))-1)*100000
(exp(qnorm(0.05, mu, sd))-1)*100000
a <- 0.01
b <- 0.04
c <- 0.02
(a+b+c)/3
varA <- 0.1
varB <- 0.15
varC <- 0.08
covAB <- 0.3
covAc <- 0.1
covBC <- -0.2
varP <- (1/3)^2*a + (1/3)^2*b + (1/3)^2*c + 2*a*b*c*covAB*covAC*covBC
covAC <- 0.1
covBC <- -0.2
varP <- (1/3)^2*a + (1/3)^2*b + (1/3)^2*c + 2*a*b*c*covAB*covAC*covBC
varP
varP <- (1/3)^2*a + (1/3)^2*b + (1/3)^2*c + 2*(1/3)*(1/3)*(1/3)*covAB*covAC*covBC
varP
?pmvnorm
varP <- (1/3)^2*varA + (1/3)^2*varB + (1/3)^2*varC
+ 2*(1/3)*(1/3)*(1/3)*covAB*covAC*covBC
varP <- (1/3)^2*varA + (1/3)^2*varB + (1/3)^2*varC + 2*(1/3)*(1/3)*(1/3)*covAB*covAC*covBC
varP
w <- 1/3
##Next thing
a <- 0.01
b <- 0.04
c <- 0.02
w <- 1/3
varA <- 0.1
varB <- 0.15
varC <- 0.08
covAB <- 0.3
covAC <- 0.1
covBC <- -0.2
varP <- (w^2)*varA + (w^2)*varB + (w^2)*varC +
2*w*w*w*covAB*covAC*covBC
varP
varP <- (w^2)*varA + (w^2)*varB + (w^2)*varC +
2*w*w*covAB + 2*w*w*covAC + 2*w*w*covBC
varP
library(ggplot2)
dataset(mpg)
data(mpg)
mpg
str(mpg)
qplot(displ, hwy, mpg)
qplot(displ, hwy, data=mpg)
qplot(displ, hwy, data=mpg, color=drv)
qplot(displ, hwy, data=mpg, color=drv, geom=c("smooth"))
qplot(displ, hwy, data=mpg, color=drv, geom=c("points"))
qplot(displ, hwy, data=mpg, color=drv, geom=c("point"))
qplot(displ, hwy, data=mpg, color=drv)
qplot(displ, hwy, data=mpg, color=drv, geom=c("point"))
qplot(displ, hwy, data=mpg, color=drv, geom=c("point", "smooth"))
qplot(hwy, data=mpg, color=drv, geom=c("point", "smooth"))
qplot(hwy, data=mpg)
qplot(hwy, data=mpg, fill=drv)
qplot(hwy, data=mpg, facets= drv ~., binwidth=2)
str(mpg)
qplot(hwy, model, data=mpg)
qplot(hwy, cyl, data=mpg)
qplot(hwy, class, data=mpg)
qplot(hwy, drv, data=mpg)
qplot(hwy, drv, data=mpg, facets=.~cyl)
qplot(hwy, drv, data=mpg)
qplot(hwy, drv, data=mpg, facets=cyl~.)
qplot(cty, data=mpg)
qplot(cty, data=mpg, fill=year)
qplot(cty, data=mpg, fill=model)
qplot(cty, data=mpg, fill=fl)
qplot(cty, data=mpg, fill=drv)
qplot(cty, data=mpg, fill=trans)
qplot(cty, year, data=mpg, fill=trans)
qplot(cty, year, data=mpg, facets=.~drv)
qplot(cty, year, data=mpg, facets=.~drv, geom=c("point", "smooth"))
qplot(cty, year, data=mpg, fill=trans)
qplot(cty, data=mpg, fill=drv)
qplot(cty, data=mpg, fill=drv, geom="density")
qplot(cty, data=mpg, color=drv, geom="density")
qplot(cty, data=mpg, color=drv, geom="density", fill=drv)
qplot(cty, data=mpg, color=drv, geom="density", fill=fl)
qplot(cty, data=mpg, color=drv, geom="density")
qplot(cty,drv, data=mpg)
qplot(cty,drv, data=mpg, color=fl)
qplot(cty,drv, data=mpg, color=fl, cex=3)
qplot(cty,drv, data=mpg, color=fl, cex=5)
qplot(cty,drv, data=mpg, color=fl, cex=5, bty="n")
qplot(cty,drv, data=mpg, color=fl, cex=5)
qplot(cty,drv, data=mpg, color=fl, cex=5, geom=c("point", "smooth"))
qplot(cty,drv, data=mpg, cex=5, geom=c("point", "smooth"))
qplot(cty,drv, data=mpg, cex=5, geom=c("point", "smooth"), method="lm")
qplot(cty,drv, data=mpg, cex=5)
qplot(cty, data=mpg, color=drv, geom="density", fill=fl)
qplot(cty, data=mpg, color=drv, geom="density", fill=drv)
qplot(cty, data=mpg, color=drv, geom="density")
qplot(cty, data=mpg, color=drv)
+geom="density"
+ (geom="density")
geom
ggplot2(cty, data=mpg, color=drv)
library(ggplot2)
ggplot2(cty, data=mpg, color=drv)
ggplot(cty, data=mpg, color=drv)
g <- ggplot(cty, data=mpg, color=drv)
g <- ggplot(mpg, aes(city, drv))
g
summary(g)
g + geom_point()
g <- ggplot(mpg, aes(cty, drv))
g + geom_point()
g + geom_smooth()
str(mpg)
g <- ggplot(mpg, aes(cty, hwy))
g + geom_point()
+geom_smooth()
g + geom_smooth()
g + geom_smooth() + geom_point()
g + geom_point() + facet_grid(.~drv)
g <- g + geom_point()
g
g + facet_grid(.~drv)
g + facet_grid(.~drv) + geom_smooth()
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles")
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles")
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title")
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position=top)
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top")
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point()
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue")
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue", size=4)
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue", size=4, alpha=1/2)
g + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue", size=4, alpha=1/4)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue", size=4, alpha=1/4)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue", size=4, alpha=1/2)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue", size=4, alpha=2/3)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color="steelblue", size=4, alpha=0.1)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(color=drv, size=4, alpha=2/3)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=drv), size=4, alpha=2/3)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=fl), size=4, alpha=2/3)
str(mpg)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=class), size=4, alpha=2/3)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=class), size=4, alpha=1/2)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=class), size=4, alpha=.4)
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=class), size=4, alpha=.4) + theme(legend.position="none")
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=class), size=4, alpha=.4) + theme(legend.position="none") geom_line()
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=class), size=4, alpha=.4) + theme(legend.position="none") + geom_line()
ggplot(mpg, aes(cty, hwy)) + facet_grid(.~drv) + geom_smooth() + xlab("City Miles") + ylab("Highway Miles") + ggtitle("Cool Title") + theme(legend.position="top") + geom_point(aes(color=class), size=4, alpha=.4) + theme(legend.position="none") + geom_line(aes(color=class), alpha=0.4)
?ARIMAacf
library(stats)
?ARIMAacf
?ARMAacf
?act
?acf
?readRDS
emissions <- readRDS("summarySCC_PM25.rds")
setwd("C:/Users/aidan/data_science/datasciencecoursera/exploratory_data_analysis/project_2")
emissions <- readRDS("summarySCC_PM25.rds")
classification <- readRDS("Source_Classification_Code.rds")
View(classification)
View(emissions)
grep("coal", classification$EI.Sector)
grep("Coal", classification$EI.Sector)
?grep
grep("Coal", classification$EI.Sector, value=TRUE)
grep("[Cc]ombustion", classification$EI.Sector, value=TRUE)
grep("[Cc]ombustion", classification$SCC.Level.One, value=TRUE)
grep("[Cc]oal", classification$SCC.Level.One, value=TRUE)
grep("[Cc]ombustion", classification$SCC.Level.Two, value=TRUE)
grep("[Cc]oal", classification$SCC.Level.Two, value=TRUE)
grep("[Cc]oal", classification$SCC.Level.Three, value=TRUE)
grep("[Cc]ombustion", classification$SCC.Level.Three, value=TRUE)
grep("[Cc]ombustion", classification$EI.Sector, value=TRUE)
grep("[Cc]oal", classification$EI.Sector, value=TRUE)
emissions <- emissions[emissions$fips=="24510",]
emissions$year <- as.factor(emissions$year)
grep("[Mm]otor", classification$Short.Name, value=TRUE)
classification[grepl("[Mm]otor", classification$Short.Name)==TRUE,]
sub <- classification[grepl("[Mm]otor", classification$Short.Name)==TRUE,]
View(classification)
View(sub)
sub <- classification[grepl("[Mm]otor", classification$Short.Name)==TRUE, 1]
sub
emissions[emissions$SCC %in% sub, ]
data <- emissions[emissions$SCC %in% sub, ]
View(data)
x <- unique(emissions$year)
x <- unique(data$year)
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="total emissions from PM2.5 by year in Baltimore City, Maryland", xlab="Year", ylab="Total Emissions")
x
y
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
emissions <- readRDS("summarySCC_PM25.rds")
classification <- readRDS("Source_Classification_Code.rds")
emissions <- emissions[emissions$fips=="24510",]
sub <- classification[grepl("[Mm]otor", classification$Short.Name)==TRUE, 1]
data <- emissions[emissions$SCC %in% sub, ]
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
png(filename="plot_5.png", width=480, height=480)
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
dev.off()
View(data)
emissions <- readRDS("summarySCC_PM25.rds")
classification <- readRDS("Source_Classification_Code.rds")
balt <- emissions[emmissions$fips=="24510",]
balt <- emissions[emissions$fips=="24510",]
sub <- classification[grepl("[Mm]otor", classification$Short.Name)==TRUE, 1]
data <- balt[balt$SCC %in% sub, ]
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
la <- emissions[emissions$fips=="06037",]
data2 <- la[la$SCC %in% sub, ]
par(mfrow=c(1,2))
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
par(mfrow=c(1,2))
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
x2 <- unique(data2$year)
y2 <- NULL
for (i in x2) {
y2 <- c(y2, sum(data2$Emissions[data2$year==i]))
}
plot(x2, y2, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Los Angeles County", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
abline(lm(y2~x2))
png(filename="plot_6.png", width=480, height=480)
par(mfrow=c(1,2))
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
x2 <- unique(data2$year)
y2 <- NULL
for (i in x2) {
y2 <- c(y2, sum(data2$Emissions[data2$year==i]))
}
plot(x2, y2, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Los Angeles County", xlab="Year", ylab="Total Emissions")
abline(lm(y2~x2))
dev.off()
png(filename="plot_6.png", width=480, height=480)
par(mfrow=c(2,1))
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
x2 <- unique(data2$year)
y2 <- NULL
for (i in x2) {
y2 <- c(y2, sum(data2$Emissions[data2$year==i]))
}
plot(x2, y2, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Los Angeles County", xlab="Year", ylab="Total Emissions")
abline(lm(y2~x2))
dev.off()
sub <- classification[grepl("[Cc]oal", classification$Short.Name)==TRUE, ]
sub <- classification[grepl("[Cc]oal", classification$Short.Name)==TRUE, ]
emissions <- readRDS("summarySCC_PM25.rds")
classification <- readRDS("Source_Classification_Code.rds")
sub <- classification[grepl("[Cc]oal", classification$Short.Name)==TRUE, ]
View(sub)
sub <- classification[grepl("[Cc]oal", classification$Short.Name)==TRUE, 1]
data <- emissions[emissions$SCC %in% sub, ]
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from motor vehicles in Baltimore City", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
par(mfrow=c(1,1))
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from coal combustion related sources", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
png(filename="plot_4.png", width=480, height=480)
par(mfrow=c(1,1))
x <- unique(data$year)
y <- NULL
for (i in x) {
y <- c(y, sum(data$Emissions[data$year==i]))
}
plot(x, y, type="p", pch=16, cex=2, col="blue", main="Total Emissions from coal combustion related sources", xlab="Year", ylab="Total Emissions")
abline(lm(y~x))
dev.off()
