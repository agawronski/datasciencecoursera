AHL, #ASPEN INSURANCE HOLDINGS LTD
OPLK, #OPLINK COMMUNICATIONS INC
EIX, #EDISON INTERNATIONAL
CCK, #CROWN HOLDINGS INC
MGM, #MGM RESORTS INTERNATIONAL
PEP, #PEPSICO INC
SYK, #STRYKER CORPORATION
GS,  #GOLDMAN SACHS GROUP INC
TM,  #TOYOTA MOTOR CORP
ORB, #ORBITAL SCIENCES CORP
JPM, #JPMORGAN CHASE & CO
MMM, #3M CO
BKS, #BARNES & NOBLE INC
PFE, #PFIZER INC
GOOG, #GOOGLE INC
DOW, #DOW CHEMICAL CO
BBY, #BEST BUY CO INC
SWC, #STILLWATER MINING CO
SCHL #SCHOLASTIC CO
)
head(stocks)
class(stocks)
?apply
?sapply
returns <- sapply(stocks, dailyReturn)
head(returns)
returns <- lapply(stocks, dailyReturn)
str(returns)
head(returns[1])
dim(returns)
length(returns)
returns <- as.data.frame(lapply(stocks, dailyReturn))
returns <- sapply(stocks, dailyReturn)
dim(returns)
stocks <- as.vector(NKE, #NIKE INC
TIF, #TIFFANY & CO
SNP, #CHINA PETROLEUM & CHEMICAL CORP
AHL, #ASPEN INSURANCE HOLDINGS LTD
OPLK, #OPLINK COMMUNICATIONS INC
EIX, #EDISON INTERNATIONAL
CCK, #CROWN HOLDINGS INC
MGM, #MGM RESORTS INTERNATIONAL
PEP, #PEPSICO INC
SYK, #STRYKER CORPORATION
GS,  #GOLDMAN SACHS GROUP INC
TM,  #TOYOTA MOTOR CORP
ORB, #ORBITAL SCIENCES CORP
JPM, #JPMORGAN CHASE & CO
MMM, #3M CO
BKS, #BARNES & NOBLE INC
PFE, #PFIZER INC
GOOG, #GOOGLE INC
DOW, #DOW CHEMICAL CO
BBY, #BEST BUY CO INC
SWC, #STILLWATER MINING CO
SCHL #SCHOLASTIC CO
)
stocks <- as.data.frame(NKE, #NIKE INC
TIF, #TIFFANY & CO
SNP, #CHINA PETROLEUM & CHEMICAL CORP
AHL, #ASPEN INSURANCE HOLDINGS LTD
OPLK, #OPLINK COMMUNICATIONS INC
EIX, #EDISON INTERNATIONAL
CCK, #CROWN HOLDINGS INC
MGM, #MGM RESORTS INTERNATIONAL
PEP, #PEPSICO INC
SYK, #STRYKER CORPORATION
GS,  #GOLDMAN SACHS GROUP INC
TM,  #TOYOTA MOTOR CORP
ORB, #ORBITAL SCIENCES CORP
JPM, #JPMORGAN CHASE & CO
MMM, #3M CO
BKS, #BARNES & NOBLE INC
PFE, #PFIZER INC
GOOG, #GOOGLE INC
DOW, #DOW CHEMICAL CO
BBY, #BEST BUY CO INC
SWC, #STILLWATER MINING CO
SCHL #SCHOLASTIC CO
)
dim(stocks)
head(stocks)
?as.data.frame
stocks <- cbind(NKE, #NIKE INC
TIF, #TIFFANY & CO
SNP, #CHINA PETROLEUM & CHEMICAL CORP
AHL, #ASPEN INSURANCE HOLDINGS LTD
OPLK, #OPLINK COMMUNICATIONS INC
EIX, #EDISON INTERNATIONAL
CCK, #CROWN HOLDINGS INC
MGM, #MGM RESORTS INTERNATIONAL
PEP, #PEPSICO INC
SYK, #STRYKER CORPORATION
GS,  #GOLDMAN SACHS GROUP INC
TM,  #TOYOTA MOTOR CORP
ORB, #ORBITAL SCIENCES CORP
JPM, #JPMORGAN CHASE & CO
MMM, #3M CO
BKS, #BARNES & NOBLE INC
PFE, #PFIZER INC
GOOG, #GOOGLE INC
DOW, #DOW CHEMICAL CO
BBY, #BEST BUY CO INC
SWC, #STILLWATER MINING CO
SCHL #SCHOLASTIC CO
)
dim(stocks)
stocks <- dailyReturn(stocks)
?sapply
sapply(tickers, dailyReturn)
tickers
head(tickers)
setwd("C:/Users/aidan/data_science/datasciencecoursera/finance")
library(quantmod)
tickers <- c("NKE", #NIKE INC
"TIF", #TIFFANY & CO
"SNP", #CHINA PETROLEUM & CHEMICAL CORP
"AHL", #ASPEN INSURANCE HOLDINGS LTD
"OPLK", #OPLINK COMMUNICATIONS INC
"EIX", #EDISON INTERNATIONAL
"CCK", #CROWN HOLDINGS INC
"MGM", #MGM RESORTS INTERNATIONAL
"PEP", #PEPSICO INC
"SYK", #STRYKER CORPORATION
"GS",  #GOLDMAN SACHS GROUP INC
"TM",  #TOYOTA MOTOR CORP
"ORB", #ORBITAL SCIENCES CORP
"JPM", #JPMORGAN CHASE & CO
"MMM", #3M CO
"BKS", #BARNES & NOBLE INC
"PFE", #PFIZER INC
"GOOG", #GOOGLE INC
"DOW", #DOW CHEMICAL CO
"BBY", #BEST BUY CO INC
"SWC", #STILLWATER MINING CO
"SCHL" #SCHOLASTIC CO
)
getSymbols(tickers)
sapply(tickers, dailyReturn)
?dailyReturn
test <- c(TM,TIF)
head(test)
test <- cbind(TM,TIF)
head(test)
rm(test)
returns <- cbind(dailyReturn(NKE), #NIKE INC
dailyReturn(TIF), #TIFFANY & CO
dailyReturn(SNP), #CHINA PETROLEUM & CHEMICAL CORP
dailyReturn(AHL), #ASPEN INSURANCE HOLDINGS LTD
dailyReturn(OPLK), #OPLINK COMMUNICATIONS INC
dailyReturn(EIX), #EDISON INTERNATIONAL
dailyReturn(CCK), #CROWN HOLDINGS INC
dailyReturn(MGM), #MGM RESORTS INTERNATIONAL
dailyReturn(PEP), #PEPSICO INC
dailyReturn(SYK), #STRYKER CORPORATION
dailyReturn(GS),  #GOLDMAN SACHS GROUP INC
dailyReturn(TM),  #TOYOTA MOTOR CORP
dailyReturn(ORB), #ORBITAL SCIENCES CORP
dailyReturn(JPM), #JPMORGAN CHASE & CO
dailyReturn(MMM), #3M CO
dailyReturn(BKS), #BARNES & NOBLE INC
dailyReturn(PFE), #PFIZER INC
dailyReturn(GOOG), #GOOGLE INC
dailyReturn(DOW), #DOW CHEMICAL CO
dailyReturn(BBY), #BEST BUY CO INC
dailyReturn(SWC), #STILLWATER MINING CO
dailyReturn(SCHL) #SCHOLASTIC CO
)
head(returns)
names(returns) <- tickers
head(returns)
head(NKE)
library(tseries)
portfoio.optim(returns, shorts=TRUE)
portfolio.optim(returns, shorts=TRUE)
table(is.na(returns))
returns[is.na(returns),]
is.na(GOOG)
head(returns)
head(returns$GOOG)
head(returns$GOOG, 200)
tail(returns$GOOG, 200)
head(GOOG)
setSymbolLookup(GOOG='yahoo')
setwd("C:/Users/aidan/data_science/datasciencecoursera/finance")
library(quantmod)
setSymbolLookup(GOOG='yahoo')
tickers <- c("NKE", #NIKE INC
"TIF", #TIFFANY & CO
"SNP", #CHINA PETROLEUM & CHEMICAL CORP
"AHL", #ASPEN INSURANCE HOLDINGS LTD
"OPLK", #OPLINK COMMUNICATIONS INC
"EIX", #EDISON INTERNATIONAL
"CCK", #CROWN HOLDINGS INC
"MGM", #MGM RESORTS INTERNATIONAL
"PEP", #PEPSICO INC
"SYK", #STRYKER CORPORATION
"GS",  #GOLDMAN SACHS GROUP INC
"TM",  #TOYOTA MOTOR CORP
"ORB", #ORBITAL SCIENCES CORP
"JPM", #JPMORGAN CHASE & CO
"MMM", #3M CO
"BKS", #BARNES & NOBLE INC
"PFE", #PFIZER INC
"GOOG", #GOOGLE INC
"DOW", #DOW CHEMICAL CO
"BBY", #BEST BUY CO INC
"SWC", #STILLWATER MINING CO
"SCHL" #SCHOLASTIC CO
)
getSymbols(tickers)
returns <- cbind(dailyReturn(NKE), #NIKE INC
dailyReturn(TIF), #TIFFANY & CO
dailyReturn(SNP), #CHINA PETROLEUM & CHEMICAL CORP
dailyReturn(AHL), #ASPEN INSURANCE HOLDINGS LTD
dailyReturn(OPLK), #OPLINK COMMUNICATIONS INC
dailyReturn(EIX), #EDISON INTERNATIONAL
dailyReturn(CCK), #CROWN HOLDINGS INC
dailyReturn(MGM), #MGM RESORTS INTERNATIONAL
dailyReturn(PEP), #PEPSICO INC
dailyReturn(SYK), #STRYKER CORPORATION
dailyReturn(GS),  #GOLDMAN SACHS GROUP INC
dailyReturn(TM),  #TOYOTA MOTOR CORP
dailyReturn(ORB), #ORBITAL SCIENCES CORP
dailyReturn(JPM), #JPMORGAN CHASE & CO
dailyReturn(MMM), #3M CO
dailyReturn(BKS), #BARNES & NOBLE INC
dailyReturn(PFE), #PFIZER INC
dailyReturn(GOOG), #GOOGLE INC
dailyReturn(DOW), #DOW CHEMICAL CO
dailyReturn(BBY), #BEST BUY CO INC
dailyReturn(SWC), #STILLWATER MINING CO
dailyReturn(SCHL) #SCHOLASTIC CO
)
names(returns) <- tickers
library(tseries)
portfolio.optim(returns, shorts=TRUE)
head(returns)
tail(GOOG, 200)
setwd("C:/Users/aidan/data_science/datasciencecoursera/finance")
library(quantmod)
setSymbolLookup(GOOG='yahoo')
tickers <- c("NKE", #NIKE INC
"TIF", #TIFFANY & CO
"SNP", #CHINA PETROLEUM & CHEMICAL CORP
"AHL", #ASPEN INSURANCE HOLDINGS LTD
"OPLK", #OPLINK COMMUNICATIONS INC
"EIX", #EDISON INTERNATIONAL
"CCK", #CROWN HOLDINGS INC
"MGM", #MGM RESORTS INTERNATIONAL
"PEP", #PEPSICO INC
"SYK", #STRYKER CORPORATION
"GS",  #GOLDMAN SACHS GROUP INC
"TM",  #TOYOTA MOTOR CORP
"ORB", #ORBITAL SCIENCES CORP
"JPM", #JPMORGAN CHASE & CO
"MMM", #3M CO
"BKS", #BARNES & NOBLE INC
"PFE", #PFIZER INC
"ANAD", #ANALOG DEVICES INC
"DOW", #DOW CHEMICAL CO
"BBY", #BEST BUY CO INC
"SWC", #STILLWATER MINING CO
"SCHL" #SCHOLASTIC CO
)
getSymbols(tickers)
returns <- cbind(dailyReturn(NKE), #NIKE INC
dailyReturn(TIF), #TIFFANY & CO
dailyReturn(SNP), #CHINA PETROLEUM & CHEMICAL CORP
dailyReturn(AHL), #ASPEN INSURANCE HOLDINGS LTD
dailyReturn(OPLK), #OPLINK COMMUNICATIONS INC
dailyReturn(EIX), #EDISON INTERNATIONAL
dailyReturn(CCK), #CROWN HOLDINGS INC
dailyReturn(MGM), #MGM RESORTS INTERNATIONAL
dailyReturn(PEP), #PEPSICO INC
dailyReturn(SYK), #STRYKER CORPORATION
dailyReturn(GS),  #GOLDMAN SACHS GROUP INC
dailyReturn(TM),  #TOYOTA MOTOR CORP
dailyReturn(ORB), #ORBITAL SCIENCES CORP
dailyReturn(JPM), #JPMORGAN CHASE & CO
dailyReturn(MMM), #3M CO
dailyReturn(BKS), #BARNES & NOBLE INC
dailyReturn(PFE), #PFIZER INC
dailyReturn(ANAD), #ANALOG DEVICES INC
dailyReturn(DOW), #DOW CHEMICAL CO
dailyReturn(BBY), #BEST BUY CO INC
dailyReturn(SWC), #STILLWATER MINING CO
dailyReturn(SCHL) #SCHOLASTIC CO
)
names(returns) <- tickers
library(tseries)
portfolio.optim(returns, shorts=TRUE)
min <- portfolio.optim(returns, shorts=TRUE)
twenty <- portfolio.optim(returns, pm=0.2, shorts=TRUE)
head(AHL)
setwd("C:/Users/aidan/data_science/datasciencecoursera/finance")
library(quantmod)
tickers <- c("NKE", #NIKE INC
"TIF", #TIFFANY & CO
"SNP", #CHINA PETROLEUM & CHEMICAL CORP
"AHL", #ASPEN INSURANCE HOLDINGS LTD
"OPLK", #OPLINK COMMUNICATIONS INC
"EIX", #EDISON INTERNATIONAL
"CCK", #CROWN HOLDINGS INC
"MGM", #MGM RESORTS INTERNATIONAL
"PEP", #PEPSICO INC
"SYK", #STRYKER CORPORATION
"GS",  #GOLDMAN SACHS GROUP INC
"TM",  #TOYOTA MOTOR CORP
"ORB", #ORBITAL SCIENCES CORP
"JPM", #JPMORGAN CHASE & CO
"MMM", #3M CO
"BKS", #BARNES & NOBLE INC
"PFE", #PFIZER INC
"ANAD", #ANALOG DEVICES INC
"DOW", #DOW CHEMICAL CO
"BBY", #BEST BUY CO INC
"SWC", #STILLWATER MINING CO
"SCHL" #SCHOLASTIC CO
)
getSymbols(tickers)
returns <- cbind(monthlyReturn(NKE), #NIKE INC
monthlyReturn(TIF), #TIFFANY & CO
monthlyReturn(SNP), #CHINA PETROLEUM & CHEMICAL CORP
monthlyReturn(AHL), #ASPEN INSURANCE HOLDINGS LTD
monthlyReturn(OPLK), #OPLINK COMMUNICATIONS INC
monthlyReturn(EIX), #EDISON INTERNATIONAL
monthlyReturn(CCK), #CROWN HOLDINGS INC
monthlyReturn(MGM), #MGM RESORTS INTERNATIONAL
monthlyReturn(PEP), #PEPSICO INC
monthlyReturn(SYK), #STRYKER CORPORATION
monthlyReturn(GS),  #GOLDMAN SACHS GROUP INC
monthlyReturn(TM),  #TOYOTA MOTOR CORP
monthlyReturn(ORB), #ORBITAL SCIENCES CORP
monthlyReturn(JPM), #JPMORGAN CHASE & CO
monthlyReturn(MMM), #3M CO
monthlyReturn(BKS), #BARNES & NOBLE INC
monthlyReturn(PFE), #PFIZER INC
monthlyReturn(ANAD), #ANALOG DEVICES INC
monthlyReturn(DOW), #DOW CHEMICAL CO
monthlyReturn(BBY), #BEST BUY CO INC
monthlyReturn(SWC), #STILLWATER MINING CO
monthlyReturn(SCHL) #SCHOLASTIC CO
)
returns <- log(returns)
names(returns) <- tickers
library(tseries)
#$pw portfolio weights
#$px portfolio returns
#$pm portfolio mean return (monthly)
#$ps portfolio standard deviation (monthly)
min <- portfolio.optim(returns, shorts=TRUE)
twenty <- portfolio.optim(returns, pm=0.2, shorts=TRUE)
head(returns)
setwd("C:/Users/aidan/data_science/datasciencecoursera/finance")
library(quantmod)
tickers <- c("NKE", #NIKE INC
"TIF", #TIFFANY & CO
"SNP", #CHINA PETROLEUM & CHEMICAL CORP
"AHL", #ASPEN INSURANCE HOLDINGS LTD
"OPLK", #OPLINK COMMUNICATIONS INC
"EIX", #EDISON INTERNATIONAL
"CCK", #CROWN HOLDINGS INC
"MGM", #MGM RESORTS INTERNATIONAL
"PEP", #PEPSICO INC
"SYK", #STRYKER CORPORATION
"GS",  #GOLDMAN SACHS GROUP INC
"TM",  #TOYOTA MOTOR CORP
"ORB", #ORBITAL SCIENCES CORP
"JPM", #JPMORGAN CHASE & CO
"MMM", #3M CO
"BKS", #BARNES & NOBLE INC
"PFE", #PFIZER INC
"ANAD", #ANALOG DEVICES INC
"DOW", #DOW CHEMICAL CO
"BBY", #BEST BUY CO INC
"SWC", #STILLWATER MINING CO
"SCHL" #SCHOLASTIC CO
)
getSymbols(tickers)
returns <- cbind(monthlyReturn(NKE), #NIKE INC
monthlyReturn(TIF), #TIFFANY & CO
monthlyReturn(SNP), #CHINA PETROLEUM & CHEMICAL CORP
monthlyReturn(AHL), #ASPEN INSURANCE HOLDINGS LTD
monthlyReturn(OPLK), #OPLINK COMMUNICATIONS INC
monthlyReturn(EIX), #EDISON INTERNATIONAL
monthlyReturn(CCK), #CROWN HOLDINGS INC
monthlyReturn(MGM), #MGM RESORTS INTERNATIONAL
monthlyReturn(PEP), #PEPSICO INC
monthlyReturn(SYK), #STRYKER CORPORATION
monthlyReturn(GS),  #GOLDMAN SACHS GROUP INC
monthlyReturn(TM),  #TOYOTA MOTOR CORP
monthlyReturn(ORB), #ORBITAL SCIENCES CORP
monthlyReturn(JPM), #JPMORGAN CHASE & CO
monthlyReturn(MMM), #3M CO
monthlyReturn(BKS), #BARNES & NOBLE INC
monthlyReturn(PFE), #PFIZER INC
monthlyReturn(ANAD), #ANALOG DEVICES INC
monthlyReturn(DOW), #DOW CHEMICAL CO
monthlyReturn(BBY), #BEST BUY CO INC
monthlyReturn(SWC), #STILLWATER MINING CO
monthlyReturn(SCHL) #SCHOLASTIC CO
)
names(returns) <- tickers
library(tseries)
#$pw portfolio weights
#$px portfolio returns
#$pm portfolio mean return (monthly)
#$ps portfolio standard deviation (monthly)
min <- portfolio.optim(returns, shorts=TRUE)
twenty <- portfolio.optim(returns, pm=0.2, shorts=TRUE)
setwd("C:/Users/aidan/data_science/datasciencecoursera/finance")
library(quantmod)
tickers <- c("NKE", #NIKE INC
"TIF", #TIFFANY & CO
"SNP", #CHINA PETROLEUM & CHEMICAL CORP
"AHL", #ASPEN INSURANCE HOLDINGS LTD
"OPLK", #OPLINK COMMUNICATIONS INC
"EIX", #EDISON INTERNATIONAL
"CCK", #CROWN HOLDINGS INC
"MGM", #MGM RESORTS INTERNATIONAL
"PEP", #PEPSICO INC
"SYK", #STRYKER CORPORATION
"GS",  #GOLDMAN SACHS GROUP INC
"TM",  #TOYOTA MOTOR CORP
"ORB", #ORBITAL SCIENCES CORP
"JPM", #JPMORGAN CHASE & CO
"MMM", #3M CO
"BKS", #BARNES & NOBLE INC
"PFE", #PFIZER INC
"ANAD", #ANALOG DEVICES INC
"DOW", #DOW CHEMICAL CO
"BBY", #BEST BUY CO INC
"SWC", #STILLWATER MINING CO
"SCHL" #SCHOLASTIC CO
)
getSymbols(tickers)
returns <- cbind(monthlyReturn(NKE), #NIKE INC
monthlyReturn(TIF), #TIFFANY & CO
monthlyReturn(SNP), #CHINA PETROLEUM & CHEMICAL CORP
monthlyReturn(AHL), #ASPEN INSURANCE HOLDINGS LTD
monthlyReturn(OPLK), #OPLINK COMMUNICATIONS INC
monthlyReturn(EIX), #EDISON INTERNATIONAL
monthlyReturn(CCK), #CROWN HOLDINGS INC
monthlyReturn(MGM), #MGM RESORTS INTERNATIONAL
monthlyReturn(PEP), #PEPSICO INC
monthlyReturn(SYK), #STRYKER CORPORATION
monthlyReturn(GS),  #GOLDMAN SACHS GROUP INC
monthlyReturn(TM),  #TOYOTA MOTOR CORP
monthlyReturn(ORB), #ORBITAL SCIENCES CORP
monthlyReturn(JPM), #JPMORGAN CHASE & CO
monthlyReturn(MMM), #3M CO
monthlyReturn(BKS), #BARNES & NOBLE INC
monthlyReturn(PFE), #PFIZER INC
monthlyReturn(ANAD), #ANALOG DEVICES INC
monthlyReturn(DOW), #DOW CHEMICAL CO
monthlyReturn(BBY), #BEST BUY CO INC
monthlyReturn(SWC), #STILLWATER MINING CO
monthlyReturn(SCHL) #SCHOLASTIC CO
)
names(returns) <- tickers
library(tseries)
#$pw portfolio weights
#$px portfolio returns
#$pm portfolio mean return (monthly)
#$ps portfolio standard deviation (monthly)
min <- portfolio.optim(returns, shorts=TRUE)
twenty <- portfolio.optim(returns, pm=0.2, shorts=TRUE)
head(returns)
table(is.na(returns))
returns <- log(returns)
head(returns)
?log
returns <- cbind(monthlyReturn(NKE), #NIKE INC
monthlyReturn(TIF), #TIFFANY & CO
monthlyReturn(SNP), #CHINA PETROLEUM & CHEMICAL CORP
monthlyReturn(AHL), #ASPEN INSURANCE HOLDINGS LTD
monthlyReturn(OPLK), #OPLINK COMMUNICATIONS INC
monthlyReturn(EIX), #EDISON INTERNATIONAL
monthlyReturn(CCK), #CROWN HOLDINGS INC
monthlyReturn(MGM), #MGM RESORTS INTERNATIONAL
monthlyReturn(PEP), #PEPSICO INC
monthlyReturn(SYK), #STRYKER CORPORATION
monthlyReturn(GS),  #GOLDMAN SACHS GROUP INC
monthlyReturn(TM),  #TOYOTA MOTOR CORP
monthlyReturn(ORB), #ORBITAL SCIENCES CORP
monthlyReturn(JPM), #JPMORGAN CHASE & CO
monthlyReturn(MMM), #3M CO
monthlyReturn(BKS), #BARNES & NOBLE INC
monthlyReturn(PFE), #PFIZER INC
monthlyReturn(ANAD), #ANALOG DEVICES INC
monthlyReturn(DOW), #DOW CHEMICAL CO
monthlyReturn(BBY), #BEST BUY CO INC
monthlyReturn(SWC), #STILLWATER MINING CO
monthlyReturn(SCHL) #SCHOLASTIC CO
)
head(returns)
names(returns) <- tickers
returns <- log(1 + returns)
head(returns)
min <- portfolio.optim(returns, shorts=TRUE)
twenty <- portfolio.optim(returns, pm=0.2, shorts=TRUE)
twenty$pw
weights <- cbind(tickers, twenty)
weights <- cbind(tickers, twenty$pw)
weights
class(weights)
rebalance <- twenty$pw*90000
rebalance <- cbind(weights, rebalance)
rebalance
?portfolio.optim
View(rebalance)
